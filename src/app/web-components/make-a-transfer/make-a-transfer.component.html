<form class="make-a-transfer-form" [formGroup]="makeATransferForm" (ngSubmit)="submit()" novalidate>
  <md-toolbar class="title">
      <md-icon>swap_horiz</md-icon>
      <div class="title-div">
          <span class="title-text">Make a Transfer</span>
      </div>
  </md-toolbar>
  <div class="form-div">
    <md-form-field class="make-a-transfer-full-width">
        <input mdInput placeholder="From Account" value="Free Checking (4692) - {{availableBalance | currency:'USD':true}}" [disabled]="true" >
    </md-form-field>
    <md-form-field class="make-a-transfer-full-width">
        <input mdInput placeholder="To Account" formControlName="merchant" errorState="makeATransferFormAccount.invalid && makeATransferFormAccount.dirty"
        [(ngModel)]="transaction.merchant" [errorStateMatcher]="myErrorMatcherAccount.bind(this)" [mdAutocomplete]="auto" >
        <md-error *ngIf="makeATransferFormAccount.invalid && makeATransferFormAccount.dirty">
            Account is <strong>required</strong>
        </md-error>
        <md-autocomplete #auto="mdAutocomplete">
            <md-option *ngFor="let trans of filteredTransactions | async" [value]="trans.merchant">
                <img style="vertical-align:middle;" aria-hidden src="{{trans.merchantLogo}}" height="25" />
                <span>{{ trans.merchant }}</span>
            </md-option>
        </md-autocomplete>
    </md-form-field>
    <md-form-field class="make-a-transfer-full-width">
        <input currencyMask mdInput placeholder="Amount" formControlName="amount" (keyup)="onKeyAmount()"
        [options]="{allowNegative: false, align: 'left'}" [(ngModel)]="transaction.amount"
        [errorStateMatcher]="myErrorMatcherAmount.bind(this)">
        <md-error *ngIf="(makeATransferFormAmount.errors && makeATransferFormAmount.errors.required &&
                          makeATransferFormAmount.dirty) || transaction.amount === '0'">
            Amount is <strong>required</strong>
        </md-error>
        <md-error *ngIf="makeATransferFormAmount.errors && makeATransferFormAmount.errors.max &&
                makeATransferFormAmount.dirty">
                It should be a maximum <strong>$500.00</strong>
        </md-error>
    </md-form-field>
    <br><br><br>
    <button class="submit" type="submit" align="right" md-raised-button color="primary" 
            [disabled]="!makeATransferForm.valid || transaction.amount === '0' || showNoFunds || disabledSubmit"
     >SUBMIT</button>
    <br><br>

    <div class="loading" *ngIf="showConfirmation">
         <span>Transaction was completed!</span>
    </div>

    <div class="loading error-no-Funds" *ngIf="showNoFunds">
            <span>The account does not have sufficient funds!</span>
    </div>
    
</div>
</form>